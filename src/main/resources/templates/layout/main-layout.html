<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>TaskFlow - Quản lý công việc</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600&display=swap" rel="stylesheet">
  <style>body { font-family: 'Lexend', sans-serif; }</style>
</head>
<body class="bg-[#F8FAFC]">
<div class="flex min-h-screen">
  <aside class="w-64 bg-white border-r border-gray-100 flex flex-col">
    <div class="p-6">
      <div class="flex items-center gap-3 text-indigo-600">
        <i data-lucide="rocket" class="w-8 h-8"></i>
        <span class="text-xl font-bold text-gray-900">TaskFlow</span>
      </div>
    </div>

    <nav class="flex-1 px-4 space-y-2">
      <a th:href="@{/tasks/kanban}"
         th:classappend="${activeMenu == 'kanban'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-500'">
        <i data-lucide="layout-dashboard"></i> Bảng công việc
      </a>

      <a th:href="@{/tasks/calendar}"
         th:classappend="${activeMenu == 'calendar'} ? 'bg-indigo-50 text-indigo-600' : 'text-gray-500'">
        <i data-lucide="calendar"></i> Lịch nhắc nhở
      </a>
    </nav>
  </aside>

  <main class="flex-1 flex flex-col">
    <header class="h-20 bg-white border-b border-gray-100 flex items-center justify-between px-8">
      <h2 class="text-lg font-semibold text-gray-800" th:text="${activeMenu == 'kanban' ? 'Bảng công việc' : 'Lịch nhắc nhở'}"></h2>
      <div class="flex items-center gap-4">
        <button class="p-2 text-gray-400 hover:bg-gray-50 rounded-full"><i data-lucide="bell" class="w-5 h-5"></i></button>
        <div class="flex items-center gap-3 pl-4 border-l border-gray-100">
          <span class="text-sm font-medium text-gray-700">Linh Đặng</span>
          <div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold">L</div>
        </div>
      </div>
    </header>

    <div class="p-8 flex-1">
      <div th:replace="~{__${content}__}">
        <p>Nội dung mặc định nếu lỗi load...</p>
      </div>
    </div>
  </main>
</div>

<script>lucide.createIcons();
function filterTasks() {
  const selectedUsers = Array.from(document.querySelectorAll('.user-checkbox:checked')).map(cb => cb.value);
  document.querySelectorAll('.kanban-column div[data-user]').forEach(card => {
    const cardUser = card.getAttribute('data-user');
    card.style.display = selectedUsers.includes(cardUser) || selectedUsers.length === 0 ? 'block' : 'none';
  });
}
</script>
</body>
</html>